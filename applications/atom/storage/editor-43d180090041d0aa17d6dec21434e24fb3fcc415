{"mode":"editor","version":"0.75.0","windowDimensions":{"x":1882,"y":273,"width":1677,"height":915},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/opt/boxen/config/nginx","buffers":[{"text":"# Send /proxy/to/* to the PassThroughProxy::XAccelRedirect Rack endpoint. You\n# can use something other than \"/proxy/to\" here, but if you do, set the\n# :proxy_path option on the Rack endpoint.\n\n# TODO: Change this back to using Passenger when it supports async\nlocation ^~ /proxy/(apps/(oauth|secure)|twitter)/ {\n  proxy_read_timeout 20;\n  proxy_pass http://proxy;\n}\n\nlocation ^~ /proxy/to/ {\n  proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;\n  proxy_read_timeout 20;\n  proxy_pass http://proxy;\n  proxy_redirect off;\n}\n\n# The PassThroughProxy::XAccelRedirect Rack endpoint will return responses with\n# X-Accel-Redirect. You can use something other than \"/proxy/pass-through/\"\n# here, but if you do, set the :x_accel_redirect option on the Rack endpoint.\n# It is very important that this path prefix be distinct from the path that\n# routes requests *to* the proxy endpoint above.\n#\n# The duplication is because of http://trac.nginx.org/nginx/ticket/283\n\nlocation /proxy/pass-through/GET {\n  internal;\n\n  set $redirect_url $upstream_http_x_proxy_to_url;\n  set $redirect_host $upstream_http_x_proxy_to_host;\n\n  proxy_hide_header 'Set-Cookie';\n  proxy_ignore_headers 'Set-Cookie';\n  proxy_set_header Cookie '';\n  proxy_set_header Host $redirect_host;\n  proxy_pass $redirect_url;\n  proxy_method GET;\n}\n\nlocation /proxy/pass-through/POST {\n  internal;\n\n  set $redirect_url $upstream_http_x_proxy_to_url;\n  set $redirect_host $upstream_http_x_proxy_to_host;\n\n  proxy_hide_header 'Set-Cookie';\n  proxy_ignore_headers 'Set-Cookie';\n  proxy_set_header Cookie '';\n  proxy_set_header Host $redirect_host;\n  proxy_pass $redirect_url;\n  proxy_method POST;\n}\n\nlocation /proxy/pass-through/PUT {\n  internal;\n\n  set $redirect_url $upstream_http_x_proxy_to_url;\n  set $redirect_host $upstream_http_x_proxy_to_host;\n\n  proxy_hide_header 'Set-Cookie';\n  proxy_ignore_headers 'Set-Cookie';\n  proxy_set_header Cookie '';\n  proxy_set_header Host $redirect_host;\n  proxy_pass $redirect_url;\n  proxy_method PUT;\n}\n\nlocation /proxy/pass-through/DELETE {\n  internal;\n\n  set $redirect_url $upstream_http_x_proxy_to_url;\n  set $redirect_host $upstream_http_x_proxy_to_host;\n\n  proxy_hide_header 'Set-Cookie';\n  proxy_ignore_headers 'Set-Cookie';\n  proxy_set_header Cookie '';\n  proxy_set_header Host $redirect_host;\n  proxy_pass $redirect_url;\n  proxy_method DELETE;\n}\n","markers":{"markers":{"1":{"id":1,"range":[[16,0],[16,0]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":27,"goalBufferRange":null,"autoscroll":true},"deserializer":"Marker"},"62":{"id":62,"range":[[10,23],[15,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[5,39],[5,40]],"newRange":[[5,39],[5,39]],"oldText":"|","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[5,39],[5,40]],"newRange":[[5,39],[5,39]],"oldText":"t","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[5,39],[5,40]],"newRange":[[5,39],[5,39]],"oldText":"o","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[8,1],[8,1]],"newRange":[[8,1],[9,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[10,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,1]],"oldText":"","newText":"l","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,1],[10,1]],"newRange":[[10,1],[10,2]],"oldText":"","newText":"o","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,2],[10,2]],"newRange":[[10,2],[10,3]],"oldText":"","newText":"c","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,3],[10,3]],"newRange":[[10,3],[10,4]],"oldText":"","newText":"a","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,4],[10,4]],"newRange":[[10,4],[10,5]],"oldText":"","newText":"t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,5],[10,5]],"newRange":[[10,5],[10,6]],"oldText":"","newText":"i","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,6],[10,6]],"newRange":[[10,6],[10,7]],"oldText":"","newText":"o","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,7],[10,7]],"newRange":[[10,7],[10,8]],"oldText":"","newText":"n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,8],[10,8]],"newRange":[[10,8],[10,9]],"oldText":"","newText":" ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,9],[10,9]],"newRange":[[10,9],[10,22]],"oldText":"","newText":"^~ /proxy/to/","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,22],[10,22]],"newRange":[[10,22],[10,23]],"oldText":"","newText":" ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,23],[10,23]],"newRange":[[10,23],[10,25]],"oldText":"","newText":"{}","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,24],[10,24]],"newRange":[[10,24],[12,0]],"oldText":"","newText":"\n\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[12,0],[12,0]]},"newParams":{"range":[[11,0],[11,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[12,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,1]],"oldText":"","newText":"}","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"reversed":false,"range":[[12,1],[12,1]]},"newParams":{"reversed":true,"range":[[12,0],[12,1]]},"deserializer":"MarkerPatch"},{"oldRange":[[12,0],[12,1]],"newRange":[[12,0],[12,0]],"oldText":"}","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[12,0],[12,0]]},"newParams":{"range":[[11,0],[12,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[11,0],[12,0]],"newRange":[[11,0],[11,0]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[12,24]],"oldText":"","newText":"proxy_read_timeout 20;\nproxy_pass http://proxy;","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[10,24],[10,24]],"newRange":[[10,24],[11,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,62]],"oldText":"","newText":"proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,1]],"oldText":"","newText":" ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[11,1],[11,1]],"newRange":[[11,1],[11,2]],"oldText":"","newText":" ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[13,26],[13,26]],"newRange":[[13,26],[14,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,62]],"oldText":"","newText":"proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":true,"range":[[14,0],[14,62]]},"newParams":{"tailed":false,"range":[[14,0],[14,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,0],[14,62]],"newRange":[[14,0],[14,19]],"oldText":"proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;","newText":"proxy_redirect off;","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[14,0],[14,0]]},"newParams":{"range":[[14,19],[14,19]]},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,2]],"oldText":"","newText":"  ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"filePath":"/opt/boxen/config/nginx/projects/proxy.conf","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"fcfbdfcc0caf2940c4b27761d72352fab8cfa9e3","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":27,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":28,"softWrap":false,"editorWidthInChars":181,"tokenizedBuffer":{"bufferPath":"/opt/boxen/config/nginx/projects/proxy.conf","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/opt/boxen/config/nginx/projects/proxy.conf","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"find-and-replace":{"viewState":{"findHistory":["/proxy/to"],"replaceHistory":[],"modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false}}},"fuzzy-finder":{"/opt/boxen/config/nginx/projects/proxy.conf":1395707402975},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":442487},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/opt/boxen/config/nginx/projects","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}