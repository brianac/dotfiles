{"mode":"editor","version":"0.75.0","windowDimensions":{"x":1460,"y":42,"width":2520,"height":1378},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/tmcinerney/Code/zendesk/zendesk_app_framework","buffers":[{"text":"var $       = require('jquery'),\n    Request = require('request');\n\nfunction Request_v0_5(name, options, app) {\n  Request.call(this, name, options, app);\n}\n\nRequest_v0_5.prototype = new Request();\n\nRequest_v0_5.prototype._mungeOptionsForProxy = function(options) {\n  var result      = $.extend({}, options),\n      originalUrl = options.url;\n\n  if (options.proxy_v2) {\n    var isGet = (options.type === undefined || options.type === 'GET'),\n        divider;\n\n    if (isGet && options.data) {\n      divider = originalUrl.indexOf('?') > 0 ? '&' : '?';\n      originalUrl += (divider + decodeURIComponent($.param(options.data)));\n    }\n    result.url = \"/proxy/to/%@\".fmt(encodeURIComponent(originalUrl) + this.csrfParam());\n  } else {\n    var isPost         = (options.type === 'POST' || options.type === 'PUT'),\n        dataType       = options.dataType,\n        destinationUrl = \"/proxy/direct?url=%@&timeout=10\";\n\n    if (dataType != null && dataType.toLowerCase() === 'json') {\n      if (isPost) {\n        result.data = \"body=%@\".fmt(encodeURIComponent(JSON.stringify(options.data)));\n        result.processData = false;\n      }\n      destinationUrl += \"&contenttype=application/json\";\n    } else if (isPost && dataType != null && dataType.toLowerCase() === 'xml') {\n      result.data = \"body=%@\".fmt(encodeURIComponent(options.data));\n      result.processData = false;\n    }\n\n    result.url = destinationUrl.fmt(encodeURIComponent(originalUrl));\n  }\n\n  return result;\n};\n\nmodule.exports = Request_v0_5;\n","markers":{"markers":{"1":{"id":1,"range":[[18,54],[18,54]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":36,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[18,54],[18,55]],"newRange":[[18,54],[18,55]],"oldText":"&","newText":"?","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[18,54],[18,54]]},"newParams":{"range":[[18,55],[18,55]]},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[18,55],[18,55]]},"newParams":{"range":[[18,54],[18,54]]},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"filePath":"/Users/tmcinerney/Code/zendesk/zendesk_app_framework/lib/0_5/request.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"ff12488771e5f1eed1d4d3b929db202af1ef426e","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":36,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":37,"softWrap":false,"editorWidthInChars":287,"tokenizedBuffer":{"bufferPath":"/Users/tmcinerney/Code/zendesk/zendesk_app_framework/lib/0_5/request.js","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/tmcinerney/Code/zendesk/zendesk_app_framework/lib/0_5/request.js","focused":false,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/tmcinerney/Code/zendesk/zendesk_app_framework/lib/0_5/request.js":1395707291938},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":272680},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/Users/tmcinerney/Code/zendesk/zendesk_app_framework/lib","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}